# 努力の部屋 (Study Group App)

## 📱 アプリ概要

「努力の部屋」は、同じ時間に同じ努力をしている人たちとつながり、モチベーションを高め合うための iOS アプリです。友達機能とプライベート設定により、より安全で楽しい学習環境を提供します。フリーミアムモデルを採用し、無料版でも十分な機能を提供しながら、プレミアム版でより高度な機能を利用できます。

### 🎯 主な機能

- **部屋管理**: カスタム名とタグで部屋を作成・参加
- **リアルタイム時間計測**: 部屋に入ってからの時間を自動計測
- **統計表示**: タグ別の日次・週間・月間の努力記録
- **通知設定**: プッシュ通知と静寂時間の設定
- **友達機能**: 友達の追加・管理・グループ作成
- **プライベート設定**: パスワード保護・招待制・参加者制限
- **部屋閉鎖**: 作成者のみが部屋を閉鎖可能
- **チャット機能**: 部屋内でのリアルタイムコミュニケーション
- **データ永続化**: 自動保存・読み込み機能
- **プレミアム版**: 制限解除と高度な機能

### 🏷️ 対応タグ例

- 勉強、筋トレ、仕事、アルバイト
- 朝活、夜活、資格勉強
- 健康、ダイエット、読書

## 💎 フリーミアムモデル

### 🆓 無料版の機能

- **部屋作成**: 月間 5 部屋まで
- **友達数**: 最大 10 人まで
- **基本統計**: 日次・週間・月間の努力記録
- **チャット機能**: テキストメッセージと絵文字
- **通知機能**: 基本的なプッシュ通知

### 👑 プレミアム版の特典

- **部屋作成**: 無制限
- **友達数**: 無制限
- **高度な統計**: 詳細な分析とグラフ
- **画像・ファイル送信**: チャットでのメディア共有
- **カスタマイズ機能**: テーマ・通知音の変更
- **1 ヶ月無料トライアル**: 最初の 1 ヶ月は無料でお試し

### 💰 料金プラン

- **月額**: 300 円（1 ヶ月無料トライアル付き）
- **年額**: 3,000 円（月額換算 250 円でお得）

## 🛠️ 技術仕様

- **言語**: Swift 5
- **フレームワーク**: SwiftUI
- **ターゲット**: iOS 18.5+
- **アーキテクチャ**: MVVM (Model-View-ViewModel)
- **データ永続化**: UserDefaults
- **通知**: UNUserNotificationCenter
- **チャート**: Swift Charts
- **課金システム**: StoreKit 2

## 📁 プロジェクト構造

```
StudyGroupApp/
├── StudyGroupApp/
│   ├── Models.swift              # データモデル（部屋、ユーザー、友達、チャット）
│   ├── AppViewModel.swift        # ビジネスロジック
│   ├── ContentView.swift         # メインビュー（5タブ構成）
│   ├── RoomListView.swift        # 部屋一覧・管理
│   ├── CreateRoomView.swift      # 部屋作成（プライベート設定対応）
│   ├── FriendsView.swift         # 友達管理（3タブ構成）
│   ├── AddFriendView.swift       # 友達追加・検索
│   ├── CreateFriendGroupView.swift # 友達グループ作成
│   ├── ChatView.swift            # 部屋内チャット
│   ├── StatsView.swift           # 統計表示（チャート対応）
│   ├── NotificationView.swift    # 通知一覧
│   ├── SettingsView.swift        # 設定画面
│   ├── FeatureLimiter.swift      # 機能制限管理
│   ├── PremiumManager.swift      # プレミアム購入管理
│   ├── PremiumPurchaseView.swift # プレミアム購入画面
│   ├── LimitAlertView.swift      # 制限アラート表示
│   ├── UsageStatusView.swift     # 使用状況表示
│   ├── Products.storekit         # StoreKit設定
│   └── Assets.xcassets/         # アセット
├── StudyGroupAppTests/           # ユニットテスト
└── StudyGroupAppUITests/         # UIテスト
```

## 🚀 セットアップ手順

### 前提条件

- Xcode 16.0+
- iOS 18.5+ SDK
- macOS 15.0+

### インストール手順

1. リポジトリをクローン

```bash
git clone https://github.com/hikarucode1/StudyGroupApp.git
cd StudyGroupApp
```

2. Xcode でプロジェクトを開く

```bash
open StudyGroupApp/StudyGroupApp.xcodeproj
```

3. シミュレーターまたは実機でビルド・実行

## 📊 主要機能の詳細

### 🏠 部屋管理

- **カスタム部屋作成**: 名前、タグ、プライベート設定
- **参加・退出**: 既存の部屋への参加・退出
- **リアルタイム表示**: 参加者数と参加者アイコン
- **部屋閉鎖**: 作成者のみが部屋を閉鎖可能
- **制限管理**: 無料版は月間 5 部屋まで、プレミアム版は無制限

#### プライベート設定

- **パスワード保護**: 部屋への参加にパスワードが必要
- **招待制**: 作成者のみが参加者を追加可能
- **参加者制限**: 最大参加者数の設定（5〜50 人）

### 👥 友達機能

- **友達追加**: ユーザー ID または名前で検索・追加
- **友達管理**: 友達リスト、リクエスト管理
- **友達グループ**: 複数友達でのグループ作成・管理
- **友達の活動**: 友達がどの部屋に参加しているかの表示
- **制限管理**: 無料版は最大 10 人まで、プレミアム版は無制限

### 💬 チャット機能

- **リアルタイムチャット**: 部屋内でのメッセージ交換
- **システムメッセージ**: 入退出・部屋閉鎖の自動通知
- **絵文字対応**: 豊富な絵文字で感情表現
- **メッセージ履歴**: 部屋内での会話履歴保存

### 📈 統計機能

- **タグ別集計**: カテゴリ別の努力時間分析
- **期間別表示**: 日次・週間・月間の記録表示
- **チャート表示**: 円グラフ・棒グラフでの可視化
- **努力記録**: 部屋ごとの参加時間とタグ記録

### 🔔 通知機能

- **プッシュ通知**: 部屋参加・友達リクエストの通知
- **静寂時間**: 通知を止めたい時間帯の設定
- **通知履歴**: 過去の通知一覧表示

### 💎 プレミアム機能

- **制限解除**: 部屋作成数・友達数の制限なし
- **高度な統計**: 詳細な分析とグラフ表示
- **メディア共有**: 画像・ファイルの送信
- **カスタマイズ**: テーマ・通知音の変更
- **1 ヶ月無料トライアル**: プレミアム機能を無料で体験

## 🔒 プライバシー・セキュリティ

- **ローカル保存**: ユーザーデータはローカルに保存
- **外部送信なし**: 外部へのデータ送信なし
- **プライベート設定**: パスワード保護・招待制による安全な部屋管理
- **権限管理**: 部屋作成者のみが管理操作可能
- **通知制御**: 通知の許可はユーザーが制御
- **課金セキュリティ**: StoreKit 2 による安全な課金処理

## 📱 App Store 対応

- **安全性重視**: データ操作機能は制限
- **プライバシーポリシー**: 完全対応
- **利用規約**: 完全対応
- **ユーザー体験**: 最適化済み
- **友達機能**: ソーシャル要素の強化
- **部屋管理**: 適切な権限管理
- **課金システム**: StoreKit 2 完全対応

## 🎨 UI/UX の特徴

### タブ構成

1. **部屋**: 部屋一覧・作成・参加
2. **友達**: 友達管理・グループ・リクエスト
3. **統計**: 努力記録・分析・チャート
4. **通知**: 通知一覧・設定
5. **設定**: アプリ設定・情報・プレミアム版

### 視覚的要素

- **参加者アイコン**: 重なり合う円形アイコンで参加者表示
- **状態表示**: プライベート・招待制・閉鎖状態のアイコン
- **カラーコーディング**: 機能別の色分けで直感的操作
- **レスポンシブデザイン**: 各種画面サイズに対応
- **プレミアム表示**: 王冠アイコンでプレミアム状態を表示

## 🤝 開発者情報

- **開発者**: 渡邊光
- **作成日**: 2025 年 8 月
- **バージョン**: 1.3.0
- **リポジトリ**: https://github.com/hikarucode1/StudyGroupApp

## 📄 ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。

## 🐛 問題報告・機能要望

GitHub の Issues で問題報告や機能要望を受け付けています。

## 🔄 更新履歴

### v1.3.0 (2025-08-11)

- **プレミアム版購入機能の追加**

  - StoreKit 2 による安全な課金システム
  - 月額 300 円・年額 3,000 円のサブスクリプション
  - 1 ヶ月無料トライアル機能
  - 美しい購入画面と使用状況表示

- **フリーミアムモデルの実装**

  - 無料版: 月間 5 部屋・友達 10 人まで
  - プレミアム版: 制限なし・高度な機能
  - 制限アラートとプレミアム版への誘導
  - 使用状況の可視化

- **制限管理システム**

  - 部屋作成数の月間制限
  - 友達数の制限
  - プレミアム状態に基づく制限解除
  - 月次リセット機能

### v1.2.0 (2025-08-11)

- **友達機能の追加**

  - 友達の追加・管理・グループ作成
  - 友達リクエストの送受信・承認・拒否
  - 友達の活動表示

- **部屋閉鎖機能の追加**

  - 部屋作成者のみが閉鎖可能
  - 閉鎖時の全参加者自動退出
  - 閉鎖状態の視覚的表示

- **チャット機能の追加**

  - 部屋内でのリアルタイムチャット
  - システムメッセージの自動送信
  - 絵文字対応とメッセージ履歴

- **プライベート設定の強化**
  - パスワード保護・招待制・参加者制限
  - 部屋の参加可否チェック
  - セキュリティの向上

### v1.1.0 (2025-08-11)

- プライベート部屋設定の追加
- 部屋参加時のパスワード認証
- 参加者アイコンの表示改善

### v1.0.0 (2025-08-11)

- 初回リリース
- 基本的な部屋管理機能
- 統計表示機能
- 通知設定機能
- App Store 向けの最適化

## 🚀 今後の開発予定

- **リアルタイム同期**: 複数デバイス間でのデータ同期
- **友達とのチャット**: 個別チャット機能
- **部屋の一時停止**: 部屋の一時的な停止機能
- **目標設定**: 個人・グループでの目標設定と達成管理
- **バッジシステム**: 努力の成果を称えるバッジ機能
- **高度な統計**: プレミアム版での詳細分析機能
- **メディア共有**: 画像・ファイルの送信機能

---

**努力の部屋**で、友達と一緒に目標達成を目指しましょう！ 🎯✨👥

プレミアム版にアップグレードして、より充実した機能をお楽しみください！ 👑💎
